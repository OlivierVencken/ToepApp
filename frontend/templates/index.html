<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Toepen Score</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="/static/css/custom.css" rel="stylesheet" />
</head>

<body class="p-4 max-w-md mx-auto bg-gray-100 min-h-screen">

  <div class="text-right mb-2">
    <a href="/logout" class="text-sm text-blue-600">Uitloggen</a>
  </div>

  <h1 class="text-3xl font-bold mb-4 text-center text-blue-600">
    <button id="playNiels" data-action="titleClick" class="title-button">Toepen</button>
  </h1>

  <!-- Settings Icon -->
  <div class="absolute top-4 left-4">
    <button id="showSettings" class="btn btn-icon">
      <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-gray-600" fill="none" viewBox="0 0 24 24" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 10c-4.4 0-8-3.6-8-8s3.6-8 8-8 8 3.6 8 8-3.6 8-8 8zm0-14c-3.3 0-6 2.7-6 6s2.7 6 6 6 6-2.7 6-6-2.7-6-6-6z" />
      </svg>
    </button>
  </div>

  <!-- Audio Elements -->
  <audio id="sound-point-add" src="/static/sounds/click.mp3"></audio>
  <audio id="sound-point-remove" src="/static/sounds/click.mp3"></audio>
  <audio id="sound-small-add" src="/static/sounds/small-player-point.mp3"></audio>
  <audio id="sound-small-reset" src="/static/sounds/click.mp3"></audio>
  <audio id="sound-game-win" src="/static/sounds/game-end.mp3"></audio>
  <audio id="sound-title-click" src="/static/sounds/title-click.mp3"></audio>

  <!-- Add Player -->
  <div class="mb-4 flex">
    <input id="newName" placeholder="Speler naam" class="flex-grow border p-2 rounded-l focus:outline-none" />
    <button id="addPlayer" class="btn btn-success rounded-r">Voeg toe</button>
  </div>

  <!-- Controls -->
  <div class="mb-4 flex justify-between">
    <button id="showLeaderboard" class="btn btn-primary show-leaderboard-btn">Leaderboard</button>
    <button id="endGame" class="btn btn-success end-game-btn">Einde Potje</button>
    <button id="resetGame" class="btn btn-danger reset-game-btn">Reset Potje</button>
  </div>

  <!-- Player List -->
  <ul id="playerList" class="space-y-2"></ul>

  <!-- Leaderboard -->
  <div id="leaderboardModal" class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center">
    <div class="bg-white p-4 rounded w-11/12 max-w-sm">
      <h2 class="text-xl font-bold mb-2">Leaderboard</h2>
      <div class="grid grid-cols-3 gap-2 font-semibold border-b pb-2">
        <div>Speler</div>
        <div class="text-center">Wins</div>
        <div class="text-center">Losses</div>
      </div>
      <ul id="leaderboardList" class="mt-2 space-y-1"></ul>
      <button id="closeLeaderboard" class="btn btn-secondary mt-4">Sluiten</button>
    </div>
  </div>

  <!-- End Game Popup -->
  <div id="endGameModal" class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center">
    <div class="bg-white p-4 rounded w-11/12 max-w-sm text-center">
      <p class="text-lg font-bold mb-4">Einde potje?</p>
      <div class="flex justify-around">
        <button id="cancelEndGame" class="btn btn-secondary">Nee</button>
        <button id="confirmEndGame" class="btn btn-success">Ja</button>
      </div>
    </div>
  </div>

  <!-- Settings Modal -->
  <div id="settingsModal" class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center">
    <div class="bg-white p-4 rounded w-11/12 max-w-sm">
      <h2 class="text-xl font-bold mb-4 text-center">Instellingen</h2>
      <form id="settingsForm" class="space-y-4">
        <!-- Max Points -->
        <div>
          <label for="maxPoints" class="block text-sm font-medium text-gray-700">Maximale punten</label>
          <div class="flex items-center gap-2">
            <button type="button" id="decreaseMaxPoints" class="btn btn-secondary">-1</button>
            <span id="maxPointsDisplay" class="text-lg font-bold">10</span>
            <button type="button" id="increaseMaxPoints" class="btn btn-secondary">+1</button>
          </div>
        </div>
        <!-- Max Small Player Points -->
        <div>
          <label for="maxSmallPoints" class="block text-sm font-medium text-gray-700">Maximale kleine speler punten</label>
          <div class="flex items-center gap-2">
            <button type="button" id="decreaseMaxSmallPoints" class="btn btn-secondary">-1</button>
            <span id="maxSmallPointsDisplay" class="text-lg font-bold">2</span>
            <button type="button" id="increaseMaxSmallPoints" class="btn btn-secondary">+1</button>
          </div>
        </div>
        <!-- Sound Toggle -->
        <div class="flex items-center">
          <input type="checkbox" id="soundToggle" class="mr-2" checked />
          <label for="soundToggle" class="text-sm font-medium text-gray-700">Geluid aan/uit</label>
        </div>
        <!-- Buttons -->
        <div class="flex justify-between">
          <button type="button" id="closeSettings" class="btn btn-secondary">Annuleren</button>
          <button type="submit" id="applySettings" class="btn btn-primary">Opslaan</button>
        </div>
      </form>
    </div>
  </div>

  <script src="/static/app.js"></script>
</body>

</html>